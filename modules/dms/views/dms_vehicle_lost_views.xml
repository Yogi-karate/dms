<?xml version="1.0"?>
<odoo>

<record id="crm_case_tree_view_leads_new_lost" model="ir.ui.view">
        <field name="name">crm.lead.tree.lead.new.lost</field>
        <field name="model">dms.vehicle.lead</field>
        <field name="arch" type="xml">
            <tree string="Leads" decoration-bf="message_needaction==True" decoration-muted="probability == 100" decoration-danger="activity_date_deadline and (activity_date_deadline &lt; current_date)">

                <field name="create_date" invisible="1"/>
                <field name="name" string="Lead"/>
                <field name="service_type"/>
                <field name="mobile"/>
                <field name="activity_date_deadline" string="Followup Date"/>
                <field name="registration_no"/>
                <field name="source"/>
                <field name="user_id" string="Telecaller"/>
                <field name="dms_lost_reason"/>
                <field name="lost_remarks"/>
                <field name="contact_name" invisible="1"/>
                <field name="city" invisible="1"/>
                <field name="opportunity_type" invisible="1"/>
                <field name="email_from" invisible="1"/>
                <field name="date_deadline" string="Service Due Date"/>
                <field name="user_id" invisible="1"/>
                <field name="partner_id" invisible="1"/>
                <field name="team_id" invisible="1"/>
                <field name="active" invisible="1"/>
                <field name="probability" invisible="1"/>
                <field name="campaign_id" invisible="1"/>
                <field name="referred" invisible="1"/>
                <field name="medium_id" invisible="1"/>
                <field name="message_needaction" invisible="1"/>
            </tree>
        </field>
    </record>

      <record id="action_dms_vehicle_lost" model="ir.actions.act_window">
        <field name="name">Lost Leads</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dms.vehicle.lead</field>
         <field name="view_ids"
               eval="[(5, 0, 0),
                           (0, 0, {'view_mode': 'tree', 'view_id': ref('crm_case_tree_view_leads_new_lost')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('crm_case_form_view_leads_new')})]"/>
        <field name="context"></field>
        <field name="domain">[('active', '=', False)]</field>
           <field name="search_view_id" ref="view_dms_vehicle_lead_filter"/>
    </record>

    <menuitem action="action_dms_vehicle_lost" id="menu_action_dms_vehicle_lost"
              parent="menu_dms_leads_root"
               string="Lost Leads"
              sequence="3"/>

    <record id="dms_lost_reason_tree_new" model="ir.ui.view">
        <field name="name">dms.lost.reason.tree</field>
        <field name="model">dms.lost.reason</field>
        <field name="arch" type="xml">
            <tree string="Lost Reasons" >
                <field name="name"/>

            </tree>
        </field>
    </record>
    <record id="dms_lost_reason_form_new" model="ir.ui.view">
        <field name="name">dms.lost.reason.form</field>
        <field name="model">dms.lost.reason</field>
        <field name="arch" type="xml">
            <form string="Lost Reasons">
                <group string="Lost Reasons">
                <field name="name"/>
                <field name="active"/>
                </group>
            </form>
        </field>
    </record>


<record id="action_lost_reasons_screen" model="ir.actions.act_window">
        <field name="name">Lost Reasons</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">dms.lost.reason</field>
         <field name="view_ids"
               eval="[(5, 0, 0),
                           (0, 0, {'view_mode': 'tree', 'view_id': ref('dms_lost_reason_tree_new')}),
                           (0, 0, {'view_mode': 'form', 'view_id': ref('dms_lost_reason_form_new')})
                           ]"/>
        <field name="context"></field>
        <field name="domain"></field>
    </record>
    <menuitem action="action_lost_reasons_screen"
              id ="menu_action_lost_reasons_screen"
              parent="menu_dms_leads_root"
               string="Lost Reasons"
              sequence="4"/>
</odoo>